<script setup>
import { onMounted, onUnmounted, reactive, ref } from "vue";
import axios from "axios";

const CHATS_ID = {
  BASE: -1002378962422,
  BASE_DEV: -1002383432249,
};

const token = "7564255529:AAELnqPYEHTvtJzwSaf3tnn7JQb4whqx688";
const snackbar = reactive({
  value: false,
});

const message = reactive({
  fio: "",
  address: "",
  kadastr: "",
  phone: "",

  countPeople: "",
  countPeopleDop: "",
  ageClient: "",
  children: "",
  childrenAge: "",
  inval: [],
  allergy: [],
  isAllergy: "",

  leisure: [],
  alcove: "",
  terrace: "",
  hobby: [],
  sport: "",
  utilityBlock: [],
  garage: "",
  parking: "",
  gardenArea: "",
  greenhouse: "",
  air: [],
  howOftenAir: "",
  dopZone: "",
  addReq: "",

  garden: [],
  elemGarden: "",
  berryBushes: "",
  fruitTrees: "",
  collection: "",
  style: [],
  plants: [],
  monthOfFlowering: "",
  plantsLike: "",
  plantsDisLike: "",
  colorLike: "",
  colorDisLike: "",
  interior: "",
  lighting: [],
  irrigationSystem: [],
  water: [],
  buildingMaterials: [],
  dismantling: [],
  viewDismantling: "",
  changes: [],
  dopChanges: "",
  dopInfo: [],
  detailsInfo: "",
  experienceGarden: "",
  hourGarden: "",
  wantHourGarden: "",
  likeWork: "",
  interfereGarden: "",
});

async function sendMessage() {
  try {
    const formattedText = `
üë®üèª –ê–Ω–∫–µ—Ç–∞ –¥–ª—è –¢–ó
${message.fio != "" || message.address != "" || message.kadastr != "" || message.phone != "" ? `[line]` : ""}
${message.fio != "" ? `–§–ò–û: ${message.fio}` : ""}
${message.address != "" ? `–ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞: ${message.address}` : ""}
${message.kadastr != "" ? `–ê–¥—Ä–µ—Å —É—á–∞—Å—Ç–∫–∞: ${message.kadastr}` : ""}
${message.phone != "" ? `–¢–µ–ª–µ—Ñ–æ–Ω: ${message.phone}` : ""}
${
  message.countPeople != "" ||
  message.countPeopleDop != "" ||
  message.ageClient != "" ||
  message.children != "" ||
  message.childrenAge != "" ||
  message.inval.length > 0 ||
  message.allergy.length > 0
    ? `[line]`
    : ""
}
${
  message.countPeople != "" ||
  message.countPeopleDop != "" ||
  message.ageClient != "" ||
  message.children != "" ||
  message.childrenAge != "" ||
  message.inval.length > 0 ||
  message.allergy.length > 0
    ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è\n`
    : ""
}
${message.countPeople != "" ? `–ß–∏—Å–ª–æ –ø—Ä–æ–∂–∏–≤–∞—é—â–∏—Ö –Ω–∞ —É—á–∞—Å—Ç–∫–µ: ${message.countPeople}` : ""}
${message.countPeopleDop != "" ? `–í —Ç–æ–º —á–∏—Å–ª–µ –ø—Ä–æ–∂–∏–≤–∞—é—Ç: ${message.countPeopleDop}` : ""}
${message.ageClient != "" ? `–í–æ–∑—Ä–∞—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞(–æ–≤): ${message.ageClient}` : ""}
${message.children != "" ? `–î–µ—Ç–∏: ${message.children}` : ""}
${message.childrenAge != "" ? `–í–æ–∑—Ä–∞—Å—Ç —Ä–µ–±–µ–Ω–∫–∞ (–¥–µ—Ç–µ–π): ${message.childrenAge}` : ""}
${message.inval.length > 0 ? `‚≠êÔ∏è –ú–∞–ª–æ–º–æ–±–∏–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏` : ""}
${message.inval ? `${message.inval.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.allergy != "" ? `‚óè –ù–∞–ª–∏—á–∏–µ –∞–ª–ª–µ—Ä–≥–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π: ${message.allergy}` : ""}
${message.isAllergy != "" ? `–ù–∞ —á—Ç–æ –∞–ª–ª–µ—Ä–≥–∏—è: ${message.isAllergy}` : ""}
${
  message.leisure.length > 0 ||
  message.hobby.length > 0 ||
  message.utilityBlock.length > 0 ||
  message.air.length > 0 ||
  message.addReq != ""
    ? `[line]`
    : ""
}
${
  message.leisure.length > 0 ||
  message.hobby.length > 0 ||
  message.utilityBlock.length > 0 ||
  message.air.length > 0 ||
  message.addReq != ""
    ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã\n`
    : ""
}
${message.leisure.length > 0 ? `‚≠êÔ∏è –û—Ç–¥—ã—Ö (–¥–æ—Å—É–≥)` : ""}
${message.leisure ? `${message.leisure.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.alcove != "" ? `–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª—é–¥–µ–π –≤ –±–µ—Å–µ–¥–∫–µ: ${message.alcove}` : ""}
${message.terrace != "" ? `–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª—é–¥–µ–π –Ω–∞ —Ç–µ—Ä—Ä–∞—Å–µ: ${message.terrace}` : ""}

${message.hobby.length > 0 ? `‚≠êÔ∏è –•–æ–±–±–∏` : ""}
${message.hobby ? `${message.hobby.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.sport != "" ? `–í–∏–¥ —Å–ø–æ—Ä—Ç–∞: ${message.sport}` : ""}
${message.utilityBlock.length > 0 ? `‚≠êÔ∏è –•–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π –±–ª–æ–∫` : ""}
${message.utilityBlock ? `${message.utilityBlock.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.garage != "" ? `–ù–∞ —Å–∫–æ–ª—å–∫–æ –º–∞—à–∏–Ω –≥–∞—Ä–∞–∂: ${message.garage}` : ""}
${message.parking != "" ? `–ù–∞ —Å–∫–æ–ª—å–∫–æ –º–∞—à–∏–Ω –ø–∞—Ä–∫–æ–≤–∫–∞: ${message.parking}` : ""}
${message.gardenArea != "" ? `–ü–æ—Å–∞–¥–æ–∫ –≤ –æ–≥–æ—Ä–æ–¥–µ: ${message.gardenArea}` : ""}
${message.greenhouse != "" ? `–†–∞–∑–º–µ—Ä —Ç–µ–ø–ª–∏—Ü—ã: ${message.greenhouse}` : ""}
${message.air != "" ? `‚óè –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–æ–∑–¥—É—Ö–µ: ${message.air}` : ""}
${message.howOftenAir != "" ? `–ü–µ—Ä–µ–æ–¥–∏—á–Ω–æ—Å—Ç—å: ${message.howOftenAir}` : ""}
${message.dopZone != "" ? `–ò–Ω–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–æ–Ω–∞: ${message.dopZone}` : ""}
${message.addReq != "" ? `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: ${message.addReq}` : ""}
${
  message.garden.length > 0 ||
  message.style.length > 0 ||
  message.plants.length > 0 ||
  message.plantsLike != "" ||
  message.plantsDisLike != "" ||
  message.colorLike != "" ||
  message.colorDisLike != "" ||
  message.interior != ""
    ? `[line]`
    : ""
}
${
  message.garden.length > 0 ||
  message.style.length > 0 ||
  message.plants.length > 0 ||
  message.plantsLike != "" ||
  message.plantsDisLike != "" ||
  message.colorLike != "" ||
  message.colorDisLike != "" ||
  message.interior != ""
    ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è\n`
    : ""
}
${message.garden.length > 0 ? `‚≠êÔ∏è –≠–ª–µ–º–µ–Ω—Ç—ã —Å–∞–¥–∞` : ""}
${message.garden ? `${message.garden.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.berryBushes != "" ? `–Ø–≥–æ–¥–Ω—ã–µ –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–∏: ${message.berryBushes}` : ""}
${message.fruitTrees != "" ? `–§—Ä—É–∫—Ç–æ–≤—ã–µ –¥–µ—Ä–µ–≤—å—è: ${message.fruitTrees}` : ""}
${message.collection != "" ? `–ö–æ–ª–ª–µ–∫—Ü–∏—è: ${message.collection}` : ""}
${message.style.length > 0 ? `‚≠êÔ∏è –°—Ç–∏–ª—å` : ""}
${message.style ? `${message.style.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.plants.length > 0 ? `‚≠êÔ∏è –†–∞—Å—Ç–µ–Ω–∏—è` : ""}
${message.plants ? `${message.plants.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.monthOfFlowering != "" ? `–ú–µ—Å—è—Ü –æ–±–∏–ª—å–Ω–æ–≥–æ —Ü–≤–µ—Ç–µ–Ω–∏—è: ${message.monthOfFlowering}` : ""}
${message.plantsLike != "" ? `–†–∞—Å—Ç–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –Ω—Ä–∞–≤—è—Ç—Å—è: ${message.plantsLike}` : ""}
${message.plantsDisLike != "" ? `–†–∞—Å—Ç–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è: ${message.plantsDisLike}` : ""}
${message.colorLike != "" || message.colorDisLike != "" || message.interior != "" ? `‚≠êÔ∏è –¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è` : ""}
${message.colorLike != "" ? `–¶–≤–µ—Ç–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω—Ä–∞–≤—è—Ç—Å—è: ${message.colorLike}` : ""}
${message.colorDisLike != "" ? `–¶–≤–µ—Ç–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è: ${message.colorDisLike}` : ""}
${message.interior != "" ? `–û—Ç—Ç–µ–Ω–∫–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞ –¥–ª—è –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞: ${message.interior}` : ""}
${
  message.lighting.length > 0 ||
  message.irrigationSystem.length > 0 ||
  message.water.length > 0 ||
  message.buildingMaterials > 0 ||
  message.dismantling > 0 ||
  message.viewDismantling != "" ||
  message.changes > 0 ||
  message.dopChanges != ""
    ? `[line]`
    : ""
}
${
  message.lighting.length > 0 ||
  message.irrigationSystem.length > 0 ||
  message.water.length > 0 ||
  message.buildingMaterials > 0 ||
  message.dismantling > 0 ||
  message.viewDismantling != "" ||
  message.changes > 0 ||
  message.dopChanges != ""
    ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã\n`
    : ""
}
${message.lighting.length > 0 ? `‚≠êÔ∏è –°–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è` : ""}
${message.lighting ? `${message.lighting.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.irrigationSystem.length > 0 ? `‚≠êÔ∏è –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–∏–≤–∞` : ""}
${message.irrigationSystem ? `${message.irrigationSystem.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.water.length > 0 ? `‚≠êÔ∏è –¢–æ—á–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–æ–¥—ã` : ""}
${message.water ? `${message.water.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.buildingMaterials.length > 0 ? `‚≠êÔ∏è –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã` : ""}
${message.buildingMaterials ? `${message.buildingMaterials.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.dismantling.length > 0 ? `‚≠êÔ∏è –î–µ–º–æ–Ω—Ç–∞–∂ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è` : ""}
${message.dismantling ? `${message.dismantling.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.viewDismantling != "" ? `–û–±—ä–µ–∫—Ç—ã –¥–µ–º–æ–Ω—Ç–∞–∂–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏–π): ${message.viewDismantling}` : ""}
${message.changes.length > 0 ? `‚≠êÔ∏è –ü–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º` : ""}
${message.changes ? `${message.changes.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.dopChanges != "" ? `–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: ${message.dopChanges}` : ""}
${message.dopInfo.length > 0 || message.detailsInfo != "" ? `[line]` : ""}
${message.dopInfo.length > 0 || message.detailsInfo != "" ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n` : ""}
${message.dopInfo ? `${message.dopInfo.map((task) => `‚óè ${task}`).join("\n")}` : ""}
${message.detailsInfo != "" ? `–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: ${message.detailsInfo}` : ""}
${
  message.experienceGarden != "" ||
  message.hourGarden != "" ||
  message.wantHourGarden != "" ||
  message.likeWork != "" ||
  message.interfereGarden != ""
    ? `[line]`
    : ""
}
${
  message.experienceGarden != "" ||
  message.hourGarden != "" ||
  message.wantHourGarden != "" ||
  message.likeWork != "" ||
  message.interfereGarden != ""
    ? `‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∞–¥–∞\n`
    : ""
}
${message.experienceGarden != "" ? `–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: ${message.experienceGarden}` : ""}
${message.hourGarden != "" ? `–í—Ä–µ–º—è–ø—Ä–µ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤ —Å–∞–¥—É (–≤—Ä–µ–º—è): ${message.hourGarden}` : ""}
${message.wantHourGarden != "" ? `–ñ–µ–ª–∞–µ–º–æ–µ –≤—Ä–µ–º—è–ø—Ä–µ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤ —Å–∞–¥—É (–≤—Ä–µ–º—è): ${message.wantHourGarden}` : ""}
${message.likeWork != "" ? `–õ—é–±–∏–º—ã–µ —Å–∞–¥–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã: ${message.likeWork}` : ""}
${message.interfereGarden != "" ? `–ß—Ç–æ –º–µ—à–∞–µ—Ç –≤ —Å–∞–¥—É: ${message.interfereGarden}` : ""}
`
      .replace(/\./g, "\\\.")
      .replace(/-/g, "\\-")
      .replace(/\n+/g, "\n")
      .replace(/\s*\[line\]/g, "\n")
      .replace(/=/g, "\\=")
      .replace(/>/g, "\\>")
      .replace(/\+/g, "\\+")
      .replace(/\(/g, "\\(")
      .replace(/\)/g, "\\)")
      .replace(/\]/g, "\\]")
      .replace(/\[/g, "\\[")
      .replace(/_/g, "\\_")
      .replace(/\*/g, "\\*")
      .replace(/~/g, "\\~")
      .replace(/`/g, "\\`")
      .replace(/#/g, "\\#")
      .replace(/\|/g, "\\|")
      .replace(/{/g, "\\{")
      .replace(/}/g, "\\}")
      .replace(/!/g, "\\!")
      .trim();
    await axios
      .post(`https://api.telegram.org/bot${token}/sendMessage`, {
        chat_id: CHATS_ID.BASE,
        text: formattedText,
        parse_mode: "MarkdownV2",
        // message_thread_id: 4294967414, //DEV
        message_thread_id: 4294967339,
        polling: true,
      })
      .then(() => {
        snackbar.value = true;
      });
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:", error);
  }
}
// –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è combobox
const isAnyComboboxOpen = ref(false);
const currentOpenCombobox = ref(null); // –¢–µ–∫—É—â–∏–π –æ—Ç–∫—Ä—ã—Ç—ã–π combobox

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ combobox
const handleComboboxClick = (refName) => {
  if (currentOpenCombobox.value && currentOpenCombobox.value !== refName) {
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –æ—Ç–∫—Ä—ã—Ç—ã–π combobox
    closeCombobox(currentOpenCombobox.value);
  }
  currentOpenCombobox.value = refName;
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
const handleMenuUpdate = (isOpen, refName) => {
  isAnyComboboxOpen.value = isOpen;
  currentOpenCombobox.value = isOpen ? refName : null;
};

// –ó–∞–∫—Ä—ã—Ç—å combobox
const closeCombobox = (refName) => {
  const combobox = document.querySelector(`.${refName} .v-menu__content`);
  if (combobox) {
    combobox.style.display = "none"; // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é
  }
  isAnyComboboxOpen.value = false;
  currentOpenCombobox.value = null;
};

function isMobileDevice() {
  return window.screen.width < 768 || window.screen.height < 768;
}

onMounted(() => {
  if (isMobileDevice()) {
    document.querySelectorAll("input, textarea").forEach((input) => {
      input.addEventListener("focus", () => {
        input.scrollIntoView({ behavior: "smooth", block: "start" });
      });
    });
  }

  // console.log(inputElement);
});
</script>
<template>
  <section class="survey">
    <!-- <div v-if="isAnyComboboxOpen" class="overlay" :style="{ zIndex: currentOpenCombobox ? 1 : 0 }"></div> -->
    <div class="survey__wrapper _container">
      <div class="bg-white">
        <div class="mx-auto max-w-7xl py-10 sm:px-6 sm:py-10 lg:px-8">
          <div class="mx-auto max-w-3xl">
            <div class="space-y-12">
              <div class="border-b border-gray-900/10 pb-12">
                <label class="block text-h5 font-semibold text-gray-900 pl-4">–ê–Ω–∫–µ—Ç–∞ –∑–∞–∫–∞–∑—á–∏–∫–∞ –¥–ª—è –¢–ó</label>
                <div class="mt-3 sm:col-span-3">
                  <v-card class="px-md-7 px-3 py-4 mb-4">
                    <v-card-title style="white-space: normal" class="wrap-text text-h6 mb-1 pl-1">–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è</v-card-title>
                    <v-text-field
                      v-model="message.fio"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–§–ò–û –∑–∞–∫–∞–∑—á–∏–∫–∞"
                      variant="outlined"
                      prepend-inner-icon="mdi-card-account-details"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.address"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞"
                      variant="outlined"
                      prepend-inner-icon="mdi-map-marker-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.kadastr"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ê–¥—Ä–µ—Å —É—á–∞—Å—Ç–∫–∞ (–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä)"
                      variant="outlined"
                      prepend-inner-icon="mdi-map-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.phone"
                      density="compact"
                      hide-details
                      label="–¢–µ–ª–µ—Ñ–æ–Ω"
                      variant="outlined"
                      prepend-inner-icon="mdi-phone-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                  </v-card>
                </div>
                <fieldset class="mt-4">
                  <v-card class="px-md-7 px-3 pb-2 pt-2 mb-4">
                    <v-card-title style="white-space: normal" class="text-h6 mb-1 pl-1">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è</v-card-title>
                    <v-text-field
                      v-model="message.countPeople"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ß–∏—Å–ª–æ –ø—Ä–æ–∂–∏–≤–∞—é—â–∏—Ö –Ω–∞ —É—á–∞—Å—Ç–∫–µ"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.countPeopleDop"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–í —Ç–æ–º —á–∏—Å–ª–µ –ø—Ä–æ–∂–∏–≤–∞—é—Ç"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.ageClient"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–í–æ–∑—Ä–∞—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞(–æ–≤)"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.children"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–î–µ—Ç–∏"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.childrenAge"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–£–∫–∞–∂–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç —Ä–µ–±—ë–Ω–∫–∞ (–¥–µ—Ç–µ–π)?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.inval"
                      :items="['–ï—Å—Ç—å', '–ù–µ—Ç', '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –ø–∞–Ω–¥—É—Å—ã', '–î—Ä—É–≥–æ–µ']"
                      label="–ú–∞–ª–æ–º–æ–±–∏–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2 test"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'mobilityAid'"
                      @click:control="handleComboboxClick('mobilityAid')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'mobilityAid')"
                      ref="mobilityAidCombobox"
                    ></v-select>
                    <v-select
                      v-model="message.allergy"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      label="–ù–∞–ª–∏—á–∏–µ –∞–ª–ª–µ—Ä–≥–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π"
                      :items="['–ù–µ—Ç', '–î–∞']"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'allergies'"
                      @click:control="handleComboboxClick('allergies')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'allergies')"
                      ref="allergiesCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.allergy.includes('–î–∞')"
                      v-model="message.isAllergy"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ù–∞ —á—Ç–æ —É –í–∞—Å –∞–ª–ª–µ—Ä–≥–∏—è?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                  </v-card>
                  <v-card class="px-md-7 px-3 pt-2 mb-4">
                    <v-card-title style="white-space: normal" class="wrap-text text-h6 mb-1 pl-1"
                      >–ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–æ–Ω—ã –í—ã —Ö–æ—Ç–∏—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å</v-card-title
                    >
                    <v-select
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–û—Ç–¥—ã—Ö/–¥–æ—Å—É–≥"
                      v-model="message.leisure"
                      style="font-size: 14px !important"
                      :items="[
                        '–ì–∞–∑–æ–Ω –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä',
                        '–ó–æ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –æ–≥–Ω—è',
                        '–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –≤–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç (–ø—Ä–∏—Ä–æ–¥–Ω—ã–π –ø—Ä—É–¥, —Ñ–æ–Ω—Ç–∞–Ω, —Å—É—Ö–æ–π —Ä—É—á–µ–π –∏ —Ç–¥.)',
                        '–°–æ–ª—è—Ä–∏–π',
                        '–ë–∞—Å—Å–µ–π–Ω',
                        '–ë–µ—Å–µ–¥–∫–∞',
                        '–¢–µ—Ä—Ä–∞—Å–∞',
                        '–õ–µ—Ç–Ω—è—è –∫—É—Ö–Ω—è',
                        '–î–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞',
                        '–ö–∞—á–µ–ª—å/–≥–∞–º–∞–∫',
                        '–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'leisure'"
                      @click:control="handleComboboxClick('leisure')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'leisure')"
                      ref="leisureCombobox"
                    ></v-select>

                    <v-text-field
                      v-if="message.leisure.includes('–ë–µ—Å–µ–¥–∫–∞')"
                      v-model="message.alcove"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ª—é–¥–µ–π –≤ –±–µ—Å–µ–¥–∫–µ –µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.leisure.includes('–¢–µ—Ä—Ä–∞—Å–∞')"
                      v-model="message.terrace"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ª—é–¥–µ–π –Ω–∞ —Ç–µ—Ä—Ä–∞—Å–µ –µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.hobby"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–•–æ–±–±–∏"
                      :items="['–ö—É–ª–∏–Ω–∞—Ä–∏—è', '–ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã', '–°–ø–æ—Ä—Ç', '–°–æ–±–∞–∫–æ–≤–æ–¥—Å—Ç–≤–æ', '–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ']"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'hobby'"
                      @click:control="handleComboboxClick('hobby')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'hobby')"
                      ref="hobbyCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.hobby.includes('–°–ø–æ—Ä—Ç')"
                      v-model="message.sport"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–í–∏–¥ —Å–ø–æ—Ä—Ç–∞"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.utilityBlock"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–•–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π –±–ª–æ–∫"
                      :items="[
                        '–ì–∞—Ä–∞–∂',
                        '–ü–∞—Ä–∫–æ–≤–∫–∞',
                        '–ó–æ–Ω–∞ –æ–≥–æ—Ä–æ–¥–∞',
                        '–¢–µ–ø–ª–∏—Ü–∞',
                        '–ü–æ–≥—Ä–µ–± –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–≤–æ—â–µ–π',
                        '–ö–æ–º–ø–æ—Å—Ç',
                        '–•–æ–∑–±–ª–æ–∫',
                        '–ö–ª–∞–¥–æ–≤–∞—è –¥–ª—è —Å–∞–¥–æ–≤–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è',
                        '–ú—É—Å–æ—Ä–Ω—ã–µ –±–∞–∫–∏',
                        '–¢—É–∞–ª–µ—Ç',
                        '–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'utilityBlock'"
                      @click:control="handleComboboxClick('utilityBlock')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'utilityBlock')"
                      ref="utilityBlockCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.utilityBlock.includes('–ì–∞—Ä–∞–∂')"
                      v-model="message.garage"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ù–∞ —Å–∫–æ–ª—å–∫–æ –º–∞—à–∏–Ω –≥–∞—Ä–∞–∂"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.utilityBlock.includes('–ü–∞—Ä–∫–æ–≤–∫–∞')"
                      v-model="message.parking"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ù–∞ —Å–∫–æ–ª—å–∫–æ –º–∞—à–∏–Ω –ø–∞—Ä–∫–æ–≤–∫–∞"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.utilityBlock.includes('–ó–æ–Ω–∞ –æ–≥–æ—Ä–æ–¥–∞')"
                      v-model="message.gardenArea"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª-–≤–æ –ø–æ—Å–∞–¥–æ–∫ –≤ –æ–≥–æ—Ä–æ–¥–µ"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.utilityBlock.includes('–¢–µ–ø–ª–∏—Ü–∞')"
                      v-model="message.greenhouse"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–†–∞–∑–º–µ—Ä —Ç–µ–ø–ª–∏—Ü—ã"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.air"
                      :items="['–î–∞', '–ù–µ—Ç']"
                      label="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è/–æ–±–µ–¥—ã –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–æ–∑–¥—É—Ö–µ"
                      chips
                      variant="outlined"
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'air'"
                      @click:control="handleComboboxClick('air')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'air')"
                      ref="airCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.air.includes('–î–∞')"
                      v-model="message.howOftenAir"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫ —á–∞—Å—Ç–æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è/–æ–±–µ–¥—ã"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="
                        message.leisure.includes('–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ') ||
                        message.hobby.includes('–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ') ||
                        message.utilityBlock.includes('–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ')
                      "
                      v-model="message.dopZone"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ò–Ω–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–æ–Ω–∞*"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    >
                    </v-text-field>
                    <v-textarea
                      v-model="message.addReq"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-4 test"
                      label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                  </v-card>
                  <v-card class="px-md-7 px-3 pt-2 pb-2 mb-4">
                    <v-card-title style="white-space: normal" class="text-h6 mb-1 pl-1">–í–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</v-card-title>
                    <v-select
                      v-model="message.garden"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–≠–ª–µ–º–µ–Ω—Ç—ã —Å–∞–¥–∞"
                      :items="[
                        '–ú–∞–ª—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ñ–æ—Ä–º—ã',
                        '–ê—Ä–∫–∏/–ø–µ—Ä–≥–æ–ª—ã',
                        '–ü—Ä—è–Ω–æ-–∞—Ä–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∞–≤—ã',
                        '–Ø–≥–æ–¥–Ω—ã–µ –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–∏',
                        '–§—Ä—É–∫—Ç–æ–≤—ã–µ –¥–µ—Ä–µ–≤—å—è',
                        '–í—ã –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä –∏ —Å–æ–±–∏—Ä–∞–µ—Ç–µ –≤ —Å–∞–¥—É –∫–æ–ª–ª–µ–∫—Ü–∏—é',
                        '–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'garden'"
                      @click:control="handleComboboxClick('garden')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'garden')"
                      ref="gardenCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.garden.includes('–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ')"
                      v-model="message.elemGarden"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–≠–ª–µ–º–µ–Ω—Ç —Å–∞–¥–∞"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.garden.includes('–Ø–≥–æ–¥–Ω—ã–µ –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–∏')"
                      v-model="message.berryBushes"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–í–∏–¥—ã —è–≥–æ–¥–Ω—ã—Ö –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–æ–≤"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.garden.includes('–§—Ä—É–∫—Ç–æ–≤—ã–µ –¥–µ—Ä–µ–≤—å—è')"
                      v-model="message.fruitTrees"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–í–∏–¥—ã —Ñ—Ä—É–∫—Ç–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-if="message.garden.includes('–í—ã –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä –∏ —Å–æ–±–∏—Ä–∞–µ—Ç–µ –≤ —Å–∞–¥—É –∫–æ–ª–ª–µ–∫—Ü–∏—é')"
                      v-model="message.collection"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –í—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–±—Ä–∞—Ç—å?"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.style"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–°—Ç–∏–ª—å"
                      :items="[
                        '–ö–ª–∞—Å—Å–∏–∫–∞/—Ä–µ–≥—É–ª—è—Ä–Ω—ã–π',
                        '–ö–ª–∞—Å—Å–∏–∫–∞/–ø–µ–π–∑–∞–∂–Ω—ã–π',
                        '–ü—Ä–æ–≤–∞–Ω—Å/–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π',
                        '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π/—Ö–∞–π-—Ç–µ–∫',
                        '–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–π',
                        '–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏–π',
                        '–ù–µ—Ç –≤ —Å–ø–∏—Å–∫–µ',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'style'"
                      @click:control="handleComboboxClick('style')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'style')"
                      ref="styleCombobox"
                    ></v-select>
                    <v-card-subtitle class="pl-1 mb-1">–ö–∞–∫–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è –í—ã —Ö–æ—Ç–∏—Ç–µ –≤–∏–¥–µ—Ç—å –≤ —Å–∞–¥—É</v-card-subtitle>
                    <v-select
                      v-model="message.plants"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–í–∏–¥—ã —Ä–∞—Å—Ç–µ–Ω–∏–π"
                      :items="[
                        '–ü–∏–∫ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–¥–ª—è –µ–∂–µ–≥–æ–¥–Ω—ã—Ö —Å–µ–º–µ–π–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤)',
                        '–û—Å–µ–Ω–Ω–µ-—Ü–≤–µ—Ç—É—â–∏–µ',
                        '–í–µ—Å–µ–Ω–Ω–µ-—Ü–≤–µ—Ç—É—â–∏–µ',
                        '–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Ü–≤–µ—Ç–µ–Ω–∏—è',
                        '–ê—Ä–æ–º–∞—Ç–Ω—ã–µ',
                        '–î—Ä—É–≥–∏–µ',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-checkbox-multiple-outline"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'plants'"
                      @click:control="handleComboboxClick('plants')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'plants')"
                      ref="plantsCombobox"
                    ></v-select>
                    <v-card-subtitle
                      v-if="message.plants.includes('–ü–∏–∫ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–¥–ª—è –µ–∂–µ–≥–æ–¥–Ω—ã—Ö —Å–µ–º–µ–π–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤)')"
                      class="pl-1 mb-1"
                      >–í –∫–∞–∫–æ–º –º–µ—Å—è—Ü–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–∏–ª—å–Ω–æ–µ —Ü–≤–µ—Ç–µ–Ω–∏–µ?</v-card-subtitle
                    >
                    <v-text-field
                      v-if="message.plants.includes('–ü–∏–∫ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–¥–ª—è –µ–∂–µ–≥–æ–¥–Ω—ã—Ö —Å–µ–º–µ–π–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤)')"
                      v-model="message.monthOfFlowering"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ú–µ—Å—è—Ü/–º–µ—Å—è—Ü–∞ –æ–±–∏–ª—å–Ω–æ–≥–æ —Ü–≤–µ—Ç–µ–Ω–∏—è"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-card-subtitle class="pl-1 mb-1">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ —Ä–∞—Å—Ç–µ–Ω–∏—è–º</v-card-subtitle>
                    <v-text-field
                      v-model="message.plantsLike"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è –í–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è?"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.plantsDisLike"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è –í–∞–º –Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è?"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-card-subtitle class="pl-1 mb-1">–¶–≤–µ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</v-card-subtitle>
                    <v-text-field
                      v-model="message.colorLike"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫–∏–µ —Ü–≤–µ—Ç–∞ –í–∞–º –Ω—Ä–∞–≤—è—Ç—Å—è?"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.colorDisLike"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫–∏–µ —Ü–≤–µ—Ç–∞ –í–∞–º –Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è?"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-text-field
                      v-model="message.interior"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–ö–∞–∫–∏–µ –æ—Ç—Ç–µ–Ω–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—å–µ—Ä–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤ –ª–∞–Ω–¥—à–∞—Ñ—Ç–µ"
                      variant="outlined"
                      prepend-inner-icon="mdi-pencil-outline"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                  </v-card>
                  <v-card class="px-md-7 px-3 pt-2 mb-4">
                    <v-card-title style="white-space: normal" class="wrap-text text-h6 mb-1 pl-1">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã</v-card-title>
                    <v-select
                      v-model="message.lighting"
                      :items="[
                        '–î–µ–∂—É—Ä–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ',
                        '–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π, –¥–µ—Ä–µ–≤—å–µ–≤, –Ω–∏–∑–∫–∏–µ —Ñ–æ–Ω–∞—Ä–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–≤–µ—Ç)',
                        '–í–Ω–µ—à–Ω—è—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Ñ–∞—Å–∞–¥–æ–≤ —Å—Ç—Ä–æ–µ–Ω–∏–π —É—Å–∞–¥—å–±—ã',
                      ]"
                      label="–°–∏—Å—Ç–µ–º–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'lighting'"
                      @click:control="handleComboboxClick('lighting')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'lighting')"
                      ref="lightingCombobox"
                    ></v-select>
                    <v-select
                      v-model="message.irrigationSystem"
                      :items="['–ù–µ—Ç, –Ω–µ –Ω—É–∂–Ω–∞', '–î–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–≤', '–î–∞, –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–≤']"
                      label="–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–∏–≤–∞"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'irrigationSystem'"
                      @click:control="handleComboboxClick('irrigationSystem')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'irrigationSystem')"
                      ref="irrigationSystemCombobox"
                    ></v-select>
                    <v-select
                      v-model="message.water"
                      :items="[
                        '–ë–æ—á–∫–∞ —Å –≤–æ–¥–æ–π',
                        '–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ',
                        '–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∫–≤–∞–∂–∏–Ω–∞',
                        '–£—á–∞—Å—Ç–æ–∫ –ø—Ä–∏–ª–µ–≥–∞–µ—Ç –∫ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤–æ–¥–æ–µ–º—É',
                        '–í–æ–¥—ã –Ω–µ—Ç',
                      ]"
                      label="–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–∞ –∏ —Ç–æ—á–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'water'"
                      @click:control="handleComboboxClick('water')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'water')"
                      ref="waterCombobox"
                    ></v-select>
                    <v-card-subtitle style="white-space: normal" class="pl-1 mb-1"
                      >–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</v-card-subtitle
                    >
                    <v-select
                      v-model="message.buildingMaterials"
                      density="compact"
                      hide-details
                      chips
                      class="mb-2"
                      multiple
                      label="–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã"
                      :items="[
                        '–¢–µ—Ä—Ä–∞—Å–Ω–∞—è –¥–æ—Å–∫–∞ (–Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è, –∫–æ–º–ø–æ–∑–∏—Ç–Ω–∞—è)',
                        '–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –∫–∞–º–µ–Ω—å',
                        '–¢—Ä–æ—Ç—É–∞—Ä–Ω–∞—è –ø–ª–∏—Ç–∫–∞',
                        '–ë—Ä—É—Å—á–∞—Ç–∫–∞',
                        '–ú–µ—Ç–∞–ª–ª/–∫–æ–≤–∫–∞',
                        '–©–µ–±–µ–Ω–æ—á–Ω—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è',
                      ]"
                      variant="outlined"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'buildingMaterials'"
                      @click:control="handleComboboxClick('buildingMaterials')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'buildingMaterials')"
                      ref="buildingMaterialsCombobox"
                    ></v-select>
                    <v-card-subtitle class="pl-1 mb-1">–î–µ–º–æ–Ω—Ç–∞–∂ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è</v-card-subtitle>
                    <v-select
                      v-model="message.dismantling"
                      :items="['–°—Ç—Ä–æ–µ–Ω–∏—è', '–î–µ—Ä–µ–≤—å—è']"
                      label="–û–±—ä–µ–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ/–Ω—É–∂–Ω–æ —É–±–∞—Ä—Ç—å/–¥–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'dismantling'"
                      @click:control="handleComboboxClick('dismantling')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'dismantling')"
                      ref="dismantlingCombobox"
                    ></v-select>
                    <v-text-field
                      v-if="message.dismantling.includes('–°—Ç—Ä–æ–µ–Ω–∏—è') || message.dismantling.includes('–î–µ—Ä–µ–≤—å—è')"
                      v-model="message.viewDismantling"
                      density="compact"
                      hide-details
                      class="mb-2"
                      label="–£–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä–æ–µ–Ω–∏—è –∏–ª–∏ –¥–µ—Ä–µ–≤—å—è"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-text-field>
                    <v-select
                      v-model="message.changes"
                      :items="['–û–≥—Ä–∞–∂–¥–µ–Ω–∏–µ/–∑–∞–±–æ—Ä', '–î–µ–∫–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–µ–Ω—ã', '–ú–æ—â–µ–Ω–∏–µ', '–û—Å–≤–µ—â–µ–Ω–∏–µ', '–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–∏–≤–∞']"
                      label="–ß—Ç–æ –í—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –∏–∑–º–µ–Ω–∏—Ç—å?"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'changes'"
                      @click:control="handleComboboxClick('changes')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'changes')"
                      ref="changesCombobox"
                    ></v-select>

                    <v-textarea
                      v-model="message.dopChanges"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-4 test"
                      label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                  </v-card>
                  <v-card class="px-md-7 px-3 pt-2 mb-4">
                    <v-card-title style="white-space: normal" class="wrap-text text-h6 mb-1 pl-1"
                      >–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–µ—Å—Ç—å –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</v-card-title
                    >
                    <v-select
                      v-model="message.dopInfo"
                      :items="[
                        '–ò–º–µ—é—Ç—Å—è –ø–µ—Ä–µ—É–≤–ª–∞–∂–Ω–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏',
                        '–ò–º–µ—é—Ç—Å—è –ø–µ—Ä–µ—Å—É—à–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏',
                        '–ò–º–µ—é—Ç—Å—è –≤–µ—Ç—Ä–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã',
                        '–ò–º–µ—é—Ç—Å—è –¥—É—Ä–Ω–æ–ø–∞—Ö–Ω—É—â–∏–µ —É—á–∞—Å—Ç–∫–∏',
                      ]"
                      label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
                      chips
                      variant="outlined"
                      multiple
                      density="compact"
                      hide-details
                      class="mb-2"
                      prepend-inner-icon="mdi-format-list-bulleted"
                      :disabled="isAnyComboboxOpen && currentOpenCombobox !== 'dopInfo'"
                      @click:control="handleComboboxClick('dopInfo')"
                      @update:menu="(isOpen) => handleMenuUpdate(isOpen, 'dopInfo')"
                      ref="dopInfoCombobox"
                    ></v-select>
                    <v-textarea
                      v-model="message.detailsInfo"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-4"
                      label="–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                  </v-card>
                  <v-card class="px-md-7 px-3 pt-2 pb-2 mb-4"
                    ><v-card-title style="white-space: normal" class="wrap-text text-h6 mb-1 pl-1">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∞–¥–∞</v-card-title>
                    <v-textarea
                      v-model="message.experienceGarden"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-2"
                      label="–ö–∞–∫–æ–≤ –í–∞—à –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ —Å–∞–¥—É –∏ –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∞ –í–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                    <v-textarea
                      v-model="message.hourGarden"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-2"
                      label="–°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –í—ã —Ç—Ä–∞—Ç–∏—Ç–µ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ —Å–∞–¥—É –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                    <v-textarea
                      v-model="message.wantHourGarden"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-2"
                      label="–°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –í—ã —Ö–æ—Ç–∏—Ç–µ —Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ —Å–∞–¥—É?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                    <v-textarea
                      v-model="message.likeWork"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-2"
                      label="–ö–∞–∫–∏–µ —Å–∞–¥–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã –í–∞–º –æ—Å–æ–±–µ–Ω–Ω–æ –Ω—Ä–∞–≤—è—Ç—Å—è?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea>
                    <v-textarea
                      v-model="message.interfereGarden"
                      rows="1"
                      auto-grow
                      hide-details
                      class="pb-0 mb-2"
                      label="–ß—Ç–æ –º–µ—à–∞–µ—Ç –í–∞–º –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—Å—è —Å–∞–¥–æ–º (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —É–µ–¥–∏–Ω–µ–Ω–Ω–æ—Å—Ç–∏, –º–Ω–æ–≥–æ —à—É–º–∞)?"
                      variant="outlined"
                      :disabled="isAnyComboboxOpen"
                    ></v-textarea
                  ></v-card>
                </fieldset>
                <v-btn @click="sendMessage" variant="outlined"> –û—Ç–ø—Ä–∞–≤–∏—Ç—å </v-btn>
                <v-snackbar class="text-center" location="top" rounded="pill" color="blue-grey" v-model="snackbar.value"
                  ><span class="text-center text-title">–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã</span></v-snackbar
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>
<style lang="scss" scoped>
.v-theme--myCustomLightTheme {
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç */
  backdrop-filter: blur(2px); /* –†–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
  z-index: 1; /* –û–≤–µ—Ä–ª–µ–π –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
}

/* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º z-index –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ combobox */
.v-combobox,
.v-select {
  position: relative;
  z-index: 0;
}

.v-combobox[style*="z-index: 2"],
.v-select[style*="z-index: 2"] {
  z-index: 2; /* –¢–µ–∫—É—â–∏–π –æ—Ç–∫—Ä—ã—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ö –æ–≤–µ—Ä–ª–µ—è */
}
.survey {
  //
  margin-top: 25px;
}
.form-control {
  width: 100%;
}
.survey__input {
  display: flex;
}
.v-list-item {
  min-width: 25px;
}
.v-checkbox {
  margin: 0;
  padding: 0;
}
</style>
